@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent horizontal scrolling globally */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

* {
  box-sizing: border-box;
}

/* Mobile optimization */
@media (max-width: 768px) {
  .mobile-main {
    min-width: 0;
    max-width: 100vw;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
    overflow-x: hidden;
    padding-top: 5rem !important; /* Ensure enough space for mobile header */
  }
  
  .mobile-grid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
  
  .mobile-table {
    overflow-x: auto;
    max-width: 100%;
    margin-left: -0.5rem;
    margin-right: -0.5rem;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
  
  .mobile-card {
    margin-left: -0.5rem;
    margin-right: -0.5rem;
    border-radius: 0.5rem;
  }
}

:root {
  --background: 220 13% 98%; /* #F8F9FB - Apple-inspired soft white */
  --foreground: 215 25% 27%; /* #3A404D - Warmer dark text */
  --muted: 220 9% 96%; /* #F5F6F8 - Softer muted background */
  --muted-foreground: 215 16% 56%; /* #8B92A5 - Softer muted text */
  --popover: 0 0% 100%; /* #FFFFFF */
  --popover-foreground: 215 25% 27%; /* #3A404D */
  --card: 0 0% 100%; /* #FFFFFF */
  --card-foreground: 215 25% 27%; /* #3A404D */
  --border: 220 13% 93%; /* #ECEFF2 - Softer borders */
  --input: 220 13% 95%; /* #F1F4F7 - Apple-like input background */
  --primary: 211 100% 50%; /* #007AFF - Apple blue primary */
  --primary-foreground: 0 0% 100%; /* #FFFFFF */
  --secondary: 45 100% 51%; /* #FFCC00 - Apple yellow accent */
  --secondary-foreground: 215 25% 27%; /* #3A404D */
  --accent: 142 71% 45%; /* #34C759 - Apple green accent */
  --accent-foreground: 0 0% 100%; /* #FFFFFF */
  --destructive: 0 100% 58%; /* #FF3B30 - Apple red */
  --destructive-foreground: 0 0% 100%; /* #FFFFFF */
  --ring: 211 100% 50%; /* #007AFF - Apple blue */
  --radius: 0.75rem;
  
  /* Custom brand colors - Apple-inspired pastels */
  --brand-blue: 211 100% 50%; /* #007AFF - Apple blue */
  --brand-red: 0 73% 55%; /* #DC2626 - Redd primary (keeping brand identity) */
  --success-green: 142 71% 45%; /* #34C759 - Apple green */
  --profit-green: 142 76% 55%; /* #30D158 - Lighter Apple green */
  --loss-red: 0 100% 58%; /* #FF3B30 - Apple red */
  --danger-red: 0 100% 58%; /* #FF3B30 - Apple red */
  --warning-orange: 35 91% 62%; /* #FF9500 - Apple orange */
  --info-blue: 211 100% 50%; /* #007AFF - Apple blue */
  --purple-accent: 274 70% 55%; /* #AF52DE - Apple purple */
  --pink-accent: 330 81% 60%; /* #FF2D92 - Apple pink */
}

.dark {
  --background: 220 13% 9%; /* #1C1C1E - Apple dark background */
  --foreground: 0 0% 98%; /* #FAFAFA - Soft white text */
  --muted: 220 13% 15%; /* #2C2C2E - Apple dark elevated */
  --muted-foreground: 220 9% 65%; /* #98989D - Apple secondary text */
  --popover: 220 13% 9%; /* #1C1C1E */
  --popover-foreground: 0 0% 98%; /* #FAFAFA */
  --card: 220 13% 13%; /* #242426 - Apple dark card */
  --card-foreground: 0 0% 98%; /* #FAFAFA */
  --border: 220 13% 20%; /* #39393C - Apple dark border */
  --input: 220 13% 15%; /* #2C2C2E - Apple dark input */
  --primary: 211 100% 50%; /* #007AFF - Apple blue */
  --primary-foreground: 0 0% 100%; /* #FFFFFF */
  --secondary: 45 100% 51%; /* #FFCC00 - Apple yellow */
  --secondary-foreground: 220 13% 9%; /* #1C1C1E */
  --accent: 142 71% 45%; /* #34C759 - Apple green */
  --accent-foreground: 0 0% 100%; /* #FFFFFF */
  --destructive: 0 100% 58%; /* #FF3B30 - Apple red */
  --destructive-foreground: 0 0% 100%; /* #FFFFFF */
  --ring: 211 100% 50%; /* #007AFF - Apple blue */
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(220 13% 95%) 100%);
    min-height: 100vh;
  }
}

@layer utilities {
  .text-brand-blue {
    color: hsl(var(--brand-blue));
  }
  
  .bg-brand-blue {
    background-color: hsl(var(--brand-blue));
  }
  
  .text-success-green {
    color: hsl(var(--success-green));
  }
  
  .bg-success-green {
    background-color: hsl(var(--success-green));
  }
  
  .text-profit-green {
    color: hsl(var(--profit-green));
  }
  
  .bg-profit-green {
    background-color: hsl(var(--profit-green));
  }
  
  .text-loss-red {
    color: hsl(var(--loss-red));
  }
  
  .bg-loss-red {
    background-color: hsl(var(--loss-red));
  }
  
  .text-danger-red {
    color: hsl(var(--danger-red));
  }
  
  .bg-danger-red {
    background-color: hsl(var(--danger-red));
  }

  /* Apple-inspired utility classes */
  .apple-card {
    @apply bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
  }

  .apple-button {
    @apply bg-primary text-primary-foreground font-medium rounded-2xl px-6 py-3 transition-all duration-200;
    box-shadow: 0 4px 16px 0 rgba(0, 122, 255, 0.2);
  }

  .apple-button:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px 0 rgba(0, 122, 255, 0.3);
  }

  .apple-button:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px 0 rgba(0, 122, 255, 0.2);
  }

  .glass-effect {
    @apply bg-white/70 backdrop-blur-md border border-white/30;
  }

  .soft-shadow {
    box-shadow: 0 4px 20px 0 rgba(0, 0, 0, 0.08);
  }

  .apple-input {
    @apply bg-input/50 border border-border rounded-xl px-4 py-3 transition-all duration-200;
  }

  .apple-input:focus {
    @apply ring-2 ring-primary/20 border-primary/40;
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
  }

  .animate-pulse-slow {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Mobile-friendly dashboard styles */
  .mobile-main {
    padding-top: 4rem;
  }
  
  .mobile-card {
    @apply bg-white rounded-lg shadow-sm border border-gray-200 p-3 md:p-6;
    min-height: 300px;
    overflow: hidden;
  }
  
  .mobile-grid {
    gap: 1rem;
  }
  
  @media (min-width: 768px) {
    .mobile-main {
      padding-top: 1.5rem;
    }
    
    .mobile-grid {
      gap: 1.5rem;
    }
  }
  
  /* Ensure containers don't overflow on small screens */
  .mobile-card > * {
    max-width: 100%;
    overflow-x: auto;
  }
  
  /* Better touch targets for mobile */
  @media (max-width: 768px) {
    button {
      min-height: 44px;
      min-width: 44px;
    }
    
    .mobile-card {
      margin-bottom: 1rem;
    }
  }
}
