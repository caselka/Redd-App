@tailwind base;
@tailwind components;
@tailwind utilities;

/* Prevent horizontal scrolling globally */
html, body {
  overflow-x: hidden;
  max-width: 100vw;
}

* {
  box-sizing: border-box;
}

/* Mobile optimization */
@media (max-width: 768px) {
  .mobile-main {
    min-width: 0;
    max-width: 100vw;
    padding-left: 0.75rem;
    padding-right: 0.75rem;
    overflow-x: hidden;
    padding-top: 5rem !important; /* Ensure enough space for mobile header */
  }
  
  .mobile-grid {
    grid-template-columns: 1fr;
    gap: 0.75rem;
  }
  
  .mobile-table {
    overflow-x: auto;
    max-width: 100%;
    margin-left: -0.5rem;
    margin-right: -0.5rem;
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }
  
  .mobile-card {
    margin-left: -0.5rem;
    margin-right: -0.5rem;
    border-radius: 0.5rem;
  }
}

:root {
  --background: 220 13% 98%; /* #F8F9FB - Apple-inspired soft white */
  --foreground: 215 25% 27%; /* #3A404D - Warmer dark text */
  --muted: 220 9% 96%; /* #F5F6F8 - Softer muted background */
  --muted-foreground: 215 16% 56%; /* #8B92A5 - Softer muted text */
  --popover: 0 0% 100%; /* #FFFFFF */
  --popover-foreground: 215 25% 27%; /* #3A404D */
  --card: 0 0% 100%; /* #FFFFFF */
  --card-foreground: 215 25% 27%; /* #3A404D */
  --border: 220 13% 93%; /* #ECEFF2 - Softer borders */
  --input: 220 13% 95%; /* #F1F4F7 - Apple-like input background */
  --primary: 211 45% 65%; /* #7BB3F0 - Soft pastel blue */
  --primary-foreground: 0 0% 100%; /* #FFFFFF */
  --secondary: 45 35% 75%; /* #E8D5A3 - Muted pastel yellow */
  --secondary-foreground: 215 25% 27%; /* #3A404D */
  --accent: 142 35% 65%; /* #8BC4A0 - Soft pastel green */
  --accent-foreground: 0 0% 100%; /* #FFFFFF */
  --destructive: 0 45% 75%; /* #E8A3A3 - Soft pastel red */
  --destructive-foreground: 215 25% 27%; /* #3A404D */
  --ring: 211 35% 70%; /* #9AC3E8 - Very soft blue ring */
  --radius: 0.75rem;
  
  /* Custom brand colors - Soft pastels */
  --brand-blue: 211 30% 70%; /* #A3C7E8 - Very soft blue */
  --brand-red: 0 35% 70%; /* #C7A3A3 - Soft red (keeping brand identity but muted) */
  --success-green: 142 71% 45%; /* #34C759 - Bright green for margin of safety */
  --success-green-foreground: 0 0% 100%; /* #FFFFFF - White text on green background */
  --profit-green: 142 76% 55%; /* #30D158 - Bright green for profits */
  --profit-green-foreground: 0 0% 100%; /* #FFFFFF - White text on green background */
  --loss-red: 0 25% 75%; /* #D1B8B8 - Very soft red */
  --danger-red: 0 30% 70%; /* #C7A8A8 - Soft danger red */
  --warning-orange: 35 35% 75%; /* #D1C4A8 - Soft orange */
  --info-blue: 211 25% 75%; /* #B8C7D1 - Very soft info blue */
  --purple-accent: 274 25% 75%; /* #C4B8D1 - Soft purple */
  --pink-accent: 330 25% 75%; /* #D1B8C7 - Soft pink */
}

.dark {
  --background: 220 13% 9%; /* #1C1C1E - Apple dark background */
  --foreground: 0 0% 95%; /* #F2F2F2 - Softer white text */
  --muted: 220 13% 15%; /* #2C2C2E - Apple dark elevated */
  --muted-foreground: 220 9% 65%; /* #98989D - Apple secondary text */
  --popover: 220 13% 9%; /* #1C1C1E */
  --popover-foreground: 0 0% 95%; /* #F2F2F2 */
  --card: 220 13% 13%; /* #242426 - Apple dark card */
  --card-foreground: 0 0% 95%; /* #F2F2F2 */
  --border: 220 13% 20%; /* #39393C - Apple dark border */
  --input: 220 13% 15%; /* #2C2C2E - Apple dark input */
  --primary: 211 25% 60%; /* #7A9FC7 - Muted blue for dark mode */
  --primary-foreground: 0 0% 100%; /* #FFFFFF */
  --secondary: 45 20% 60%; /* #B8A67A - Muted yellow for dark mode */
  --secondary-foreground: 0 0% 95%; /* #F2F2F2 */
  --accent: 142 20% 60%; /* #7AB89F - Muted green for dark mode */
  --accent-foreground: 0 0% 100%; /* #FFFFFF */
  --destructive: 0 25% 65%; /* #B8857A - Muted red for dark mode */
  --destructive-foreground: 0 0% 100%; /* #FFFFFF */
  --ring: 211 20% 65%; /* #85A3C7 - Very soft blue ring for dark mode */
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: linear-gradient(135deg, hsl(var(--background)) 0%, hsl(220 20% 97%) 50%, hsl(210 25% 96%) 100%);
    min-height: 100vh;
  }
}

@layer utilities {
  .text-brand-blue {
    color: hsl(var(--brand-blue));
  }
  
  .bg-brand-blue {
    background-color: hsl(var(--brand-blue));
  }
  
  .text-success-green {
    color: hsl(var(--success-green));
  }
  
  .bg-success-green {
    background-color: hsl(var(--success-green));
  }
  
  .text-profit-green {
    color: hsl(var(--profit-green));
  }
  
  .bg-profit-green {
    background-color: hsl(var(--profit-green));
  }
  
  .text-loss-red {
    color: hsl(var(--loss-red));
  }
  
  .bg-loss-red {
    background-color: hsl(var(--loss-red));
  }
  
  .text-danger-red {
    color: hsl(var(--danger-red));
  }
  
  .bg-danger-red {
    background-color: hsl(var(--danger-red));
  }

  /* Apple-inspired utility classes */
  .apple-card {
    @apply bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg border border-white/20;
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
  }

  .apple-button {
    @apply bg-primary text-primary-foreground font-medium rounded-2xl px-6 py-3 transition-all duration-300;
    box-shadow: 0 2px 8px 0 rgba(123, 179, 240, 0.1);
  }

  .apple-button:hover {
    transform: translateY(-0.5px);
    box-shadow: 0 3px 12px 0 rgba(209, 184, 199, 0.15);
    @apply bg-pink-accent;
  }

  .apple-button:active {
    transform: translateY(0);
    box-shadow: 0 1px 4px 0 rgba(123, 179, 240, 0.1);
  }

  .glass-effect {
    @apply bg-white/70 backdrop-blur-md border border-white/30;
  }

  .soft-shadow {
    box-shadow: 0 4px 20px 0 rgba(0, 0, 0, 0.08);
  }

  .apple-input {
    @apply bg-input/50 border border-border rounded-xl px-4 py-3 transition-all duration-200;
  }

  .apple-input:focus {
    @apply ring-2 ring-primary/20 border-primary/40;
    box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
  }

  .animate-pulse-slow {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  /* Soft pink hover effects for navigation and interactive elements */
  .hover-soft-pink:hover {
    @apply bg-pink-accent/20 text-pink-accent;
    transition: all 0.2s ease-in-out;
  }

  /* Override default button and link hover colors */
  button:hover:not(.apple-button), 
  [role="menuitem"]:hover,
  nav a:hover,
  .nav-link:hover {
    @apply bg-pink-accent/10 text-pink-accent;
    transition: all 0.2s ease-in-out;
  }

  /* Mobile-friendly dashboard styles */
  .mobile-main {
    padding-top: 4rem;
  }
  
  .mobile-card {
    @apply bg-white/90 dark:bg-card/90 backdrop-blur-sm rounded-2xl shadow-sm border border-border/50 p-3 md:p-6;
    min-height: 300px;
    overflow: hidden;
    box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.04);
  }
  
  .mobile-grid {
    gap: 1rem;
  }
  
  @media (min-width: 768px) {
    .mobile-main {
      padding-top: 1.5rem;
    }
    
    .mobile-grid {
      gap: 1.5rem;
    }
  }
  
  /* Ensure containers don't overflow on small screens */
  .mobile-card > * {
    max-width: 100%;
    overflow-x: auto;
  }
  
  /* Better touch targets for mobile */
  @media (max-width: 768px) {
    button {
      min-height: 44px;
      min-width: 44px;
    }
    
    .mobile-card {
      margin-bottom: 1rem;
    }
  }
}
